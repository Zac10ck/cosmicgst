<!-- Sidebar Navigation - Material Design Navigation Drawer -->
<nav id="sidebar" class="d-none d-md-block sidebar">
    <div class="position-sticky pt-2">
        <ul class="nav flex-column">
            <!-- Operations Section -->
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('dashboard') }}"
                   href="{{ url_for('dashboard.index') }}">
                    <span class="material-icons-outlined">dashboard</span>Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint == 'billing.new_bill' }}"
                   href="{{ url_for('billing.new_bill') }}">
                    <span class="material-icons-outlined">add_shopping_cart</span>New Bill
                </a>
            </li>
            {% if current_user.is_admin() %}
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and 'quotation' in request.endpoint }}"
                   href="{{ url_for('quotations.index') }}">
                    <span class="material-icons-outlined">request_quote</span>Quotations
                </a>
            </li>
            {% endif %}
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('billing.') and request.endpoint != 'billing.new_bill' and request.endpoint != 'billing.eway_bill_dashboard' }}"
                   href="{{ url_for('billing.invoice_list') }}">
                    <span class="material-icons-outlined">receipt_long</span>Invoices
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint == 'billing.eway_bill_dashboard' }}"
                   href="{{ url_for('billing.eway_bill_dashboard') }}">
                    <span class="material-icons-outlined">local_shipping</span>E-Way Bills
                </a>
            </li>
            {% if current_user.is_admin() %}
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and 'credit_note' in request.endpoint }}"
                   href="{{ url_for('credit_notes.index') }}">
                    <span class="material-icons-outlined">assignment_return</span>Credit Notes
                </a>
            </li>
            {% endif %}

            <!-- Management Section -->
            <li class="nav-item">
                <small class="nav-link text-muted">Management</small>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('products') }}"
                   href="{{ url_for('products.index') }}">
                    <span class="material-icons-outlined">inventory_2</span>Products
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('customers') }}"
                   href="{{ url_for('customers.index') }}">
                    <span class="material-icons-outlined">groups</span>Customers
                </a>
            </li>

            <!-- Reports Section (Admin Only) -->
            {% if current_user.is_admin() %}
            <li class="nav-item">
                <small class="nav-link text-muted">Reports</small>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('reports') }}"
                   href="{{ url_for('reports.index') }}">
                    <span class="material-icons-outlined">analytics</span>Reports
                </a>
            </li>
            {% endif %}

            <!-- Admin Section -->
            {% if current_user.is_admin() %}
            <li class="nav-item">
                <small class="nav-link text-muted">Admin</small>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('auth.manage') }}"
                   href="{{ url_for('auth.manage_users') }}">
                    <span class="material-icons-outlined">manage_accounts</span>Users
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('settings') }}"
                   href="{{ url_for('settings.index') }}">
                    <span class="material-icons-outlined">settings</span>Settings
                </a>
            </li>
            {% endif %}
        </ul>
    </div>
</nav>
